[gd_scene load_steps=48 format=3 uid="uid://b8sw3mr2detck"]

[ext_resource type="Script" uid="uid://dmxnua4x5qdhj" path="res://Enemy/Scripts/enemy.gd" id="1_8ej4m"]
[ext_resource type="Texture2D" uid="uid://iichjfa1gg1g" path="res://Player/Sprites/Idle/idle1.png" id="2_bwheg"]
[ext_resource type="Texture2D" uid="uid://bunh6sftvjqq2" path="res://Player/Sprites/Idle/idle2.png" id="3_iol0x"]
[ext_resource type="Texture2D" uid="uid://clqt2lfx68xxi" path="res://Player/Sprites/Idle/idle3.png" id="4_ofqcr"]
[ext_resource type="Texture2D" uid="uid://dn13mpimgq5dv" path="res://Player/Sprites/Idle/idle4.png" id="5_nus6a"]
[ext_resource type="Texture2D" uid="uid://coojltblrilob" path="res://Player/Sprites/Jump/jump1.png" id="6_imgxb"]
[ext_resource type="Texture2D" uid="uid://757p3xolo7pu" path="res://Player/Sprites/Jump/jump2.png" id="7_pyrvc"]
[ext_resource type="Texture2D" uid="uid://w24v3683ecsk" path="res://Player/Sprites/Jump/jump3.png" id="8_pja2t"]
[ext_resource type="Texture2D" uid="uid://dbsdip4tkxxx7" path="res://Player/Sprites/Jump/jump4.png" id="9_jx5vc"]
[ext_resource type="Texture2D" uid="uid://j486w7xl266p" path="res://Player/Sprites/Kick/kick1.png" id="10_7vco5"]
[ext_resource type="Texture2D" uid="uid://bd48nsywkgrxl" path="res://Player/Sprites/Kick/kick2.png" id="11_7xmqa"]
[ext_resource type="Texture2D" uid="uid://vgaptq007qac" path="res://Player/Sprites/Kick/kick3.png" id="12_8w0mm"]
[ext_resource type="Texture2D" uid="uid://djatyremvvpso" path="res://Player/Sprites/Kick/kick4.png" id="13_ebugx"]
[ext_resource type="Texture2D" uid="uid://csyg6kq81tpqe" path="res://Player/Sprites/Kick/kick5.png" id="14_mpt27"]
[ext_resource type="Texture2D" uid="uid://ct2y0n0bxrjm1" path="res://Player/Sprites/Hurt/hurt1.png" id="15_0dyvk"]
[ext_resource type="Texture2D" uid="uid://6yp30rckbhi7" path="res://Player/Sprites/Hurt/hurt2.png" id="16_anrbk"]
[ext_resource type="Texture2D" uid="uid://c34bblh8njg4q" path="res://Player/Sprites/Punch/punch1.png" id="17_rcolj"]
[ext_resource type="Texture2D" uid="uid://4hn8lska7qt8" path="res://Player/Sprites/Punch/punch2.png" id="18_mhcg5"]
[ext_resource type="Texture2D" uid="uid://b0lhif8hw7s6p" path="res://Player/Sprites/Punch/punch3.png" id="19_twqvw"]
[ext_resource type="Texture2D" uid="uid://v3vci8jc1ocu" path="res://Player/Sprites/Walk/walk1.png" id="20_1twfy"]
[ext_resource type="Texture2D" uid="uid://d30iksdky2iqd" path="res://Player/Sprites/Walk/walk2.png" id="21_qhwq3"]
[ext_resource type="Texture2D" uid="uid://g8yw5r661x0l" path="res://Player/Sprites/Walk/walk3.png" id="22_fv6oi"]
[ext_resource type="Texture2D" uid="uid://b3vnkjva6anej" path="res://Player/Sprites/Walk/walk4.png" id="23_wf4eh"]
[ext_resource type="Texture2D" uid="uid://dn3s11ohdd1xt" path="res://Player/Sprites/Walk/walk5.png" id="24_hvksc"]
[ext_resource type="Texture2D" uid="uid://83yugqou6klt" path="res://Player/Sprites/Walk/walk6.png" id="25_j0vx4"]
[ext_resource type="Texture2D" uid="uid://bq4e7nlx586ji" path="res://Player/Sprites/Walk/walk7.png" id="26_wad7k"]
[ext_resource type="Texture2D" uid="uid://gib0iunlkmtq" path="res://Player/Sprites/Walk/walk8.png" id="27_2ytd7"]
[ext_resource type="Texture2D" uid="uid://6n2y6cdgwi6v" path="res://Player/Sprites/Walk/walk9.png" id="28_3pfub"]
[ext_resource type="Texture2D" uid="uid://cdhe46kg21548" path="res://Player/Sprites/Walk/walk10.png" id="29_oque4"]
[ext_resource type="AudioStream" uid="uid://cu28lfx1e1hpl" path="res://Sounds/punch-kick-46882.mp3" id="30_l8wrx"]
[ext_resource type="Script" uid="uid://cisfw1sqfrypt" path="res://Enemy/Scripts/enemy_state_machine.gd" id="31_6jaer"]
[ext_resource type="Script" uid="uid://cdj182til4fit" path="res://Player/Sprites/Idle/Scripts/hurt_box.gd" id="33_ve8xs"]
[ext_resource type="Script" uid="uid://ygwo71wg85vs" path="res://Player/Sprites/Idle/Scripts/hit_box.gd" id="37_kxtdn"]

[sub_resource type="SpriteFrames" id="SpriteFrames_x70vp"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_bwheg")
}, {
"duration": 1.0,
"texture": ExtResource("3_iol0x")
}, {
"duration": 1.0,
"texture": ExtResource("4_ofqcr")
}, {
"duration": 1.0,
"texture": ExtResource("5_nus6a")
}],
"loop": true,
"name": &"Idle",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_imgxb")
}, {
"duration": 1.0,
"texture": ExtResource("7_pyrvc")
}, {
"duration": 1.0,
"texture": ExtResource("8_pja2t")
}, {
"duration": 1.0,
"texture": ExtResource("9_jx5vc")
}],
"loop": true,
"name": &"Jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_7vco5")
}, {
"duration": 1.0,
"texture": ExtResource("11_7xmqa")
}, {
"duration": 1.0,
"texture": ExtResource("12_8w0mm")
}, {
"duration": 1.0,
"texture": ExtResource("13_ebugx")
}, {
"duration": 1.0,
"texture": ExtResource("14_mpt27")
}],
"loop": true,
"name": &"Kick",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("15_0dyvk")
}, {
"duration": 1.0,
"texture": ExtResource("16_anrbk")
}],
"loop": true,
"name": &"Pain",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("17_rcolj")
}, {
"duration": 1.0,
"texture": ExtResource("18_mhcg5")
}, {
"duration": 1.0,
"texture": ExtResource("19_twqvw")
}],
"loop": true,
"name": &"Punch",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("20_1twfy")
}, {
"duration": 1.0,
"texture": ExtResource("21_qhwq3")
}, {
"duration": 1.0,
"texture": ExtResource("22_fv6oi")
}, {
"duration": 1.0,
"texture": ExtResource("23_wf4eh")
}, {
"duration": 1.0,
"texture": ExtResource("24_hvksc")
}, {
"duration": 1.0,
"texture": ExtResource("25_j0vx4")
}, {
"duration": 1.0,
"texture": ExtResource("26_wad7k")
}, {
"duration": 1.0,
"texture": ExtResource("27_2ytd7")
}, {
"duration": 1.0,
"texture": ExtResource("28_3pfub")
}, {
"duration": 1.0,
"texture": ExtResource("29_oque4")
}],
"loop": true,
"name": &"Walk",
"speed": 9.0
}]

[sub_resource type="Animation" id="Animation_2n1s8"]
resource_name = "Fall"
loop_mode = 1
step = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Jump"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [3]
}

[sub_resource type="Animation" id="Animation_jatw7"]
resource_name = "Idle"
length = 0.80002
loop_mode = 1
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}

[sub_resource type="Animation" id="Animation_47wu6"]
resource_name = "Jump"
length = 0.80002
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Jump"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}

[sub_resource type="Animation" id="Animation_ravlb"]
resource_name = "Kick"
length = 1.20002
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Kick"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1.4, 1.6),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 7, 8]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("State Machine/Punch")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.6),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"add_game_juice"
}]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("State Machine/Kick/HitBox/CollisionShape2D:disabled")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.6, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="Animation" id="Animation_6efpq"]
resource_name = "Pain"
length = 0.40002
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Pain"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [0, 1]
}

[sub_resource type="Animation" id="Animation_f7new"]
resource_name = "Punch"
length = 0.60002
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Punch"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("State Machine/Punch")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.4),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"add_game_juice"
}]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("State Machine/Punch/HitBox/CollisionShape2D:disabled")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.2, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="Animation" id="Animation_rv870"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [3]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("State Machine/Punch/HitBox/CollisionShape2D:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("State Machine/Kick/HitBox/CollisionShape2D:disabled")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_efikj"]
resource_name = "Walk"
length = 2.00002
loop_mode = 1
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Walk"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1, 1.2, 1.4, 1.6, 1.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_efikj"]
_data = {
&"Fall": SubResource("Animation_2n1s8"),
&"Idle": SubResource("Animation_jatw7"),
&"Jump": SubResource("Animation_47wu6"),
&"Kick": SubResource("Animation_ravlb"),
&"Pain": SubResource("Animation_6efpq"),
&"Punch": SubResource("Animation_f7new"),
&"RESET": SubResource("Animation_rv870"),
&"Walk": SubResource("Animation_efikj")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wo5nf"]
size = Vector2(17, 41)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mrbh7"]
size = Vector2(20, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lrhq4"]
size = Vector2(27.5, 18)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ibubc"]
size = Vector2(14, 41)

[node name="Enemy" type="CharacterBody2D" groups=["Player"]]
script = ExtResource("1_8ej4m")
maxHealth = null

[node name="Sprite" type="AnimatedSprite2D" parent="."]
position = Vector2(3, -8.5)
sprite_frames = SubResource("SpriteFrames_x70vp")
animation = &"Idle"
frame = 3

[node name="Animation" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_efikj")
}

[node name="Collision" type="CollisionShape2D" parent="."]
position = Vector2(2, 2.5)
shape = SubResource("RectangleShape2D_wo5nf")

[node name="HitSFX" type="AudioStreamPlayer" parent="."]
stream = ExtResource("30_l8wrx")

[node name="Enemy State Machine" type="Node2D" parent="."]
script = ExtResource("31_6jaer")

[node name="Enemy Idle" type="Node2D" parent="Enemy State Machine"]

[node name="Enemy Walk" type="Node2D" parent="Enemy State Machine"]

[node name="Enemy Jump" type="Node2D" parent="Enemy State Machine"]

[node name="Enemy Fall" type="Node2D" parent="Enemy State Machine"]

[node name="Enemy Punch" type="Node2D" parent="Enemy State Machine"]

[node name="HitBox" type="Area2D" parent="Enemy State Machine/Enemy Punch"]
script = ExtResource("37_kxtdn")
metadata/_custom_type_script = "uid://ygwo71wg85vs"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy State Machine/Enemy Punch/HitBox"]
position = Vector2(34, -9.5)
shape = SubResource("RectangleShape2D_mrbh7")
disabled = true
debug_color = Color(0.637707, 0.526017, 1.15514e-06, 0.42)

[node name="Enemy Kick" type="Node2D" parent="Enemy State Machine"]

[node name="HitBox" type="Area2D" parent="Enemy State Machine/Enemy Kick"]
script = ExtResource("37_kxtdn")
metadata/_custom_type_script = "uid://ygwo71wg85vs"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy State Machine/Enemy Kick/HitBox"]
position = Vector2(23.25, -3.5)
shape = SubResource("RectangleShape2D_lrhq4")
disabled = true
debug_color = Color(0.65427, 0.517664, 7.70092e-07, 0.42)

[node name="Enemy Pain" type="Node2D" parent="Enemy State Machine"]

[node name="HurtBox" type="Area2D" parent="Enemy State Machine/Enemy Pain"]
position = Vector2(7, -8.5)
script = ExtResource("33_ve8xs")
metadata/_custom_type_script = "uid://cdj182til4fit"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy State Machine/Enemy Pain/HurtBox"]
position = Vector2(-5, 10.5)
shape = SubResource("RectangleShape2D_ibubc")
debug_color = Color(0.81338, 0.0999154, 0.948979, 0.42)
